<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.repository.EmployeeMapper">
    <!-- 全件検索 -->
    <select id="selectAll" resultType="com.example.demo.entity.Employee">
        SELECT code, first_name as firstName, last_name as lastName,
        password, created_at as createdAt, updated_at as updatedAt
        FROM employee ORDER BY created_at;
    </select>
    <!-- １件検索 -->
    <select id="selectByCode" resultType="com.example.demo.entity.Employee">
        SELECT code, first_name as firstName, last_name as lastName,
        password, created_at as createdAt, updated_at as updatedAt
        FROM employee WHERE code = #{code};
    </select>
    <!-- 登録 -->
    <insert id="insert">
        INSERT INTO employee (code, first_name, last_name, password, created_at, updated_at)
        VALUES
        (#{code}, #{firstName}, #{lastName}, #{password}, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
    </insert>
    <!-- 更新 -->
    <update id="update">
        UPDATE employee SET first_name = #{firstName}, last_name = #{lastName},
        password = #{password}, updated_at = CURRENT_TIMESTAMP WHERE code = #{code};
    </update>
    <!-- 削除 -->
    <delete id="delete">
        DELETE FROM employee WHERE code = #{code}
    </delete>
</mapper>